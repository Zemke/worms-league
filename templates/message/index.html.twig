<div id="shoutbox" class="darkpad">
    {% if app.user %}
        <form action="{{ path('app_message') }}" method="POST">
            <zemke-tagbox ci>
                <input type="text" name="body">
                <select multiple name="recipients">
                    {% for u in users %}
                        <option value="{{ u.id }}">{{ u.username }}</option>
                    {% endfor %}
                </select>
            </zemke-tagbox>
            <input type="submit" value="Send">
        </form>
    {% endif %}
    <div id="messages" class="whitepad">
        {% for msg in messages %}
            <div class="message">
                <div class="author">
                    <a href="{{ path('app_user_view', { usernameOrId: msg.author.id }) }}">
                        {{ msg.author.username }}
                    </a>
                    <span class="small">
                        on <strong>{{ msg.created|date('M. j') }}</strong>
                        at <strong>{{ msg.created|date('H:i') }}</strong>
                    </span>
                </div>
                <div class="body">
                    {{ msg.body }}
                </div>
            </div>
        {% endfor %}
    </div>
</div>
<script>
    setTimeout(() =>
        document.getElementsByTagName('zemke-tagbox')[0]
            .chatInputEl.placeholder = "Type a message...");
</script>

